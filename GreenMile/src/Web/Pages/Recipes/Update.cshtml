@page
@model Web.Pages.Recipes.UpdateModel
@{
}
<section class="content-main">
	<form method="post" enctype="multipart/form-data">
		<input hidden value="@Model.CurrentRecipe.Id"/>
	<div class="row">
		<div class="col-9">
			<div class="content-header">
				<br />
				<h2 class="content-title">Update Recipe</h2>
				<br />

				<br />
			</div>
		</div>
		<div class="col-lg-6">
			<div class="card mb-4">
				<div class="card-header">
					<h4>Update Recipe</h4>
				</div>
				<div class="card-body">
					
						<div class="mb-4">
							<label for="product_name" class="form-label" asp-for="CurrentRecipe.recipeName">Recipe Name</label>
							<input type="text" placeholder="@Model.CurrentRecipe.recipeName" class="form-control" asp-for="CurrentRecipe.recipeName"/>
						</div>
						<div class="row">
							<div class="col-lg-4">
								<div class="mb-4">
									<label class="form-label" asp-for="CurrentRecipe.difficulty">Difficulty</label>
									<input placeholder="@Model.CurrentRecipe.difficulty" type="number" class="form-control" min="0" max="5" step="0.5" asp-for="CurrentRecipe.difficulty" />
								</div>
							</div>
							<div class="col-lg-4">
								<div class="mb-4">
									<label class="form-label" asp-for="CurrentRecipe.duration">Duration</label>
									<input placeholder="@Model.CurrentRecipe.ingredientAmount" type="number" class="form-control" min="1" max="1000" step="1" asp-for="CurrentRecipe.duration" />
								</div>
							</div>
							<table>
								<tr>
									<th>&nbsp;</th>
									<th>Ingredients</th>
									<th>Amount</th>
								</tr>
								@*<tr>

								<td><input type="checkbox" /></td>
								<td><p>ingredient name</p></td>
								<td><input type="number" placeholder="g" step="1" min="1" max="10000" /></td>
								</tr>*@
								@{
									@foreach (var ingredient in Model.testIngredientList)
									{
										<tr>
											<td><input id="" type="checkbox" /></td>
											<td><p>@ingredient</p></td>
											<td><input type="number" disabled="disabled" id="amount" asp-for="CurrentRecipe.ingredientAmount" placeholder="g" step="1" min="1" max="10000" required /></td>
										</tr>
									}
								}
							</table>
						</div>
						<div>
							<button type="submit" class="btn btn-md rounded font-sm hover-up">Update</button>
						</div>
					
				</div>
			</div>
			<!-- card end// -->
			<!-- card end// -->
		</div>
			<div class="col-lg-3">
				<div class="card mb-4">
					<div class="card-header">
						<h4>Media</h4>
					</div>
					<div class="card-body">
						<div class="input-upload">
							<br />
							<input class="form-control" type="file" accept="image/*" asp-for="image" onchange="showImgPreview(this)"/>
						</div>
						<img id="imgPreview" class="rounded-circle"
							 style="height:300px;width:300px;object-fit:cover"
							 src="@Model.CurrentRecipe.imageFilePath" />
					</div>
				</div>
				<!-- card end// -->
				<!-- card end// -->
			</div>
	</div>
	<input hidden asp-for="CurrentRecipe.Id" />
	</form>
</section>
<!-- content-main end// -->

<script>
	function showImgPreview(input) {
		if (input.files[0]) {
			var uploadimg = new FileReader();
			uploadimg.onload = function (displayimg) {
				$("#imgPreview").attr('src', displayimg.target.result);
			}
			uploadimg.readAsDataURL(input.files[0]);
		}
	}
</script>